{% extends 'base.html' %}
{% load static %}
{% load i18n %}

{% block head %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropper/4.1.0/cropper.min.css" integrity="sha256-QO6eO4Oq7Sqx48sjw2DTj5GJLbKb1HWVDzDV8jobF/w=" crossorigin="anonymous" />
{% endblock %}

{% block body %}
<form enctype="multipart/form-data" action="" id="formUpload" method="POST">
{% csrf_token %}
{{form.as_ul}}
<input type="submit" value="{% trans "Upload story" %}"/>
</form>

<!-- MODAL TO CROP THE IMAGE -->
<div class="modal fade" id="modalCrop" data-keyboard="false" data-backdrop="static">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">{% trans "Crop the poster" %}</h4>
      </div>
      <div class="modal-body">
        <img src="" id="image" style="max-width: 100%;">
      </div>
      <div class="modal-footer">
        <button type="button" data-dismiss="modal" class="btn btn-primary js-crop">{% trans "Crop" %}</button>
      </div>
    </div>
  </div>
</div>

{% endblock %}

{% block javascript %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/cropper/4.1.0/cropper.min.js" integrity="sha256-bIJf9UoBlMSWH93AiO3pECjw1Gx2n4LBil6o2M9v08k=" crossorigin="anonymous"></script>
<script src="{% static '/js/library_crop.js' %}"></script>
{% endblock %}
